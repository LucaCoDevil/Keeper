{"ast":null,"code":"import _slicedToArray from\"C:/Users/lucac/Documents/keeperMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Header from'./Header';import Note from'./Note';import CreateArea from'./CreateArea';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];function getData(){axios.get('/api').then(function(response){var data=response.data;setNotes(data);}).catch();}function addNote(newNote){axios({url:'/save',method:'POST',data:newNote}).then(function(){console.log('successfully sent add data to the server');}).catch(function(){console.log('failed to send add data to the server');});getData();}useEffect(function(){getData();},[]);function deleteNote(data,id){setNotes(function(prevNotes){return prevNotes.filter(function(noteItem,index){return index!==id;});});axios({url:\"/delete\",method:\"POST\",data:data}).then(function(){console.log('sent delete data to server');}).catch(function(){console.log('failed to send delete data to server');getData();});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(CreateArea,{onAdd:addNote}),/*#__PURE__*/_jsx(\"div\",{id:\"note-container\",children:notes.map(function(noteItem,index){return/*#__PURE__*/_jsx(Note,{id:index,data:noteItem,title:noteItem.title,content:noteItem.content,onDelete:deleteNote},index);})})]});}export default App;","map":{"version":3,"sources":["C:/Users/lucac/Documents/keeperMERN/client/src/components/App.jsx"],"names":["React","useState","useEffect","Header","Note","CreateArea","axios","App","notes","setNotes","getData","get","then","response","data","catch","addNote","newNote","url","method","console","log","deleteNote","id","prevNotes","filter","noteItem","index","map","title","content"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,eACYN,QAAQ,CAAC,EAAD,CADpB,wCACPO,KADO,eACAC,QADA,eAGd,QAASC,CAAAA,OAAT,EAAmB,CAClBJ,KAAK,CAACK,GAAN,CAAU,MAAV,EAAkBC,IAAlB,CAAuB,SAAAC,QAAQ,CAAI,CAClC,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAAtB,CACAL,QAAQ,CAACK,IAAD,CAAR,CACA,CAHD,EAGGC,KAHH,GAIA,CAED,QAASC,CAAAA,OAAT,CAAiBC,OAAjB,CAA0B,CAEzBX,KAAK,CAAC,CACLY,GAAG,CAAE,OADA,CAELC,MAAM,CAAE,MAFH,CAGLL,IAAI,CAAEG,OAHD,CAAD,CAAL,CAIGL,IAJH,CAIQ,UAAM,CACbQ,OAAO,CAACC,GAAR,CAAY,0CAAZ,EACA,CAND,EAMGN,KANH,CAMS,UAAM,CACdK,OAAO,CAACC,GAAR,CAAY,uCAAZ,EACA,CARD,EASAX,OAAO,GACP,CAEDR,SAAS,CAAC,UAAM,CACfQ,OAAO,GACP,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASY,CAAAA,UAAT,CAAoBR,IAApB,CAA0BS,EAA1B,CAA8B,CAC7Bd,QAAQ,CAAC,SAACe,SAAD,CAAe,CACvB,MAAOA,CAAAA,SAAS,CAACC,MAAV,CAAiB,SAACC,QAAD,CAAWC,KAAX,CAAqB,CAC5C,MAAOA,CAAAA,KAAK,GAAKJ,EAAjB,CACA,CAFM,CAAP,CAGC,CAJM,CAAR,CAKAjB,KAAK,CAAC,CACLY,GAAG,CAAE,SADA,CAELC,MAAM,CAAE,MAFH,CAGLL,IAAI,CAAEA,IAHD,CAAD,CAAL,CAIGF,IAJH,CAIQ,UAAM,CACbQ,OAAO,CAACC,GAAR,CAAY,4BAAZ,EACA,CAND,EAMGN,KANH,CAMS,UAAM,CACdK,OAAO,CAACC,GAAR,CAAY,sCAAZ,EACAX,OAAO,GACP,CATD,EAWA,CAED,mBACC,oCACC,KAAC,MAAD,IADD,cAGC,KAAC,UAAD,EAAY,KAAK,CAAEM,OAAnB,EAHD,cAIC,YAAK,EAAE,CAAC,gBAAR,UACER,KAAK,CAACoB,GAAN,CAAU,SAACF,QAAD,CAAWC,KAAX,CAAqB,CAC/B,mBACC,KAAC,IAAD,EAEC,EAAE,CAAEA,KAFL,CAGC,IAAI,CAAGD,QAHR,CAIC,KAAK,CAAEA,QAAQ,CAACG,KAJjB,CAKC,OAAO,CAAEH,QAAQ,CAACI,OALnB,CAMC,QAAQ,CAAER,UANX,EACMK,KADN,CADD,CAUA,CAXA,CADF,EAJD,GADD,CAsBA,CAED,cAAepB,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Note from './Note';\r\nimport CreateArea from './CreateArea';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n\tconst [notes, setNotes] = useState([]);\r\n\r\n\tfunction getData() {\r\n\t\taxios.get('/api').then(response => {\r\n\t\t\tconst data = response.data;\r\n\t\t\tsetNotes(data);\r\n\t\t}).catch()\r\n\t}\r\n\r\n\tfunction addNote(newNote) {\r\n\t\t\r\n\t\taxios({\r\n\t\t\turl: '/save',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: newNote\r\n\t\t}).then(() => {\r\n\t\t\tconsole.log('successfully sent add data to the server');\r\n\t\t}).catch(() => {\r\n\t\t\tconsole.log('failed to send add data to the server');\r\n\t\t})\r\n\t\tgetData();\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetData();\r\n\t}, [])\r\n\r\n\tfunction deleteNote(data, id) {\r\n\t\tsetNotes((prevNotes) => {\r\n\t\t\treturn prevNotes.filter((noteItem, index) => {\r\n\t\t\t\treturn index !== id;\r\n\t\t\t});\r\n\t\t\t});\r\n\t\taxios({\r\n\t\t\turl: \"/delete\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tdata: data\r\n\t\t}).then(() => {\r\n\t\t\tconsole.log('sent delete data to server');\r\n\t\t}).catch(() => {\r\n\t\t\tconsole.log('failed to send delete data to server');\r\n\t\t\tgetData()\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<CreateArea onAdd={addNote} />\r\n\t\t\t<div id=\"note-container\">\r\n\t\t\t\t{notes.map((noteItem, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Note\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tid={index}\r\n\t\t\t\t\t\t\tdata={ noteItem}\r\n\t\t\t\t\t\t\ttitle={noteItem.title}\r\n\t\t\t\t\t\t\tcontent={noteItem.content}\r\n\t\t\t\t\t\t\tonDelete={deleteNote}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t{/* <Footer /> */}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}